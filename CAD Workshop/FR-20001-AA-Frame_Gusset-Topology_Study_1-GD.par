DRIVER
  os.environ['SMA_TSO_COSMOS_ELEMAT'] = '1'
  driver.registerSaveRule( UpdateRules.COPY, CheckPoints.ITER_COMPLETE, EventTimes.LAST, [ '*.ste*' ], 'SAVE.ste', '' )
  driver.registerSaveRule( UpdateRules.COPY, CheckPoints.ITER_COMPLETE, EventTimes.LAST, [ '*.lcd*' ], 'SAVE.ste', '' )
  driver.registerSaveRule( UpdateRules.COPY, CheckPoints.ITER_COMPLETE, EventTimes.LAST, [ '*.lcm*' ], 'SAVE.ste', '' )
END_

FEM_INPUT
  ID_NAME = FR-20001-AA-Frame_Gusset-Topology_Study_1_1
  FILE = FR-20001-AA-Frame Gusset-Topology Study 1.NOD
END_

*SET_DB,rint,130,1

GROUP_DEF
  ID_NAME = FROZEN_AREA_ELEMS_GRP_1
  TYPE=ELEM
  FORMAT=LIST
  LIST_BEGIN
1042,1800,1835,1951,2526,2671,3153,3329,3381,3398,3432,4121,4446,4576,4577,4846,4882,4940,
5021,5058,5086,5098,5104,5110,5131,5139,5162,5213,5237,5239,5245,5268,5288,5296,5327,5337,
5344,5358,5412,5530,5552,5565,5646,5706,5956,6032,6050,6055,6056,6061,6081,6089,6095,6099,
6106,6119,6135,6153,6155,6157,6162,6174,6211,6224,6227,6230,6232,6235,6247,6248,6249,6259,
6261,6289,6296,6298,6299,6363,6367,6374,6375,6382,6417,6430,6447,6454,6528,6540,6547,6548,
6550,6555,6578,6580,6582,6599,6637,6714,6721,6722,6747,6749,6820,6828,6833,6860,6864,6872,
6879,6893,6898,6910,6919,6956,6958,6968,6972,7067,7121,7149,7150,7194,7211,7243,7246,7262,
7321,7326,7368,7379,7543,7597,7599,7610,7716,7724,7822,7829,7878,7889,7895,7935,7940,7945,
8013,8020,8051,8055,8077,8084,8165,8178,8201,8342,8393,8407,8420,8484,8511,8578,8589,8895,
9158,9441,9445,9455,9462,9467,9471,9476,9477,9480,9481,9488,9507,9516,9526,9531,9533,9555,
9563,9581,9593,9597,9606,9609,9614,9617,9631,9639,9644,9645,9646,9652,9654,9655,9662,9676,
9677,9686,9697,9705,9724,9726,9729,9734,9750,9757,9792,9806,9807,9811,9917,9932,9935,9945,
9959,9974,9975,9978,9992,10014,10022,10027,10031,10035,10043,10050,10101,10150,10217,10253,
10254,10395,10406,10408,10409,10419,10421,10455,10468,10534,10556,10584,10586,10598,10600,
10614,10617,10624,10670,10680,10681,10683,10706,10713,10729,10737,10749,10759,10781,10817,
10828,10829,10859,10873,10886,10887,10890,10905,10908,10933,10942,11029,11055,11058,11077,
11222,11257,11265,11267,11269,11504,11564,11694,11786,11877,11886,11911,11921,11923,11924,
11953,11954,11958,11966,11971,11974,11982,11988,11989,11993,11998,12009,12013,12020,12029,
12031,12036,12040,12058,12069,12113,12118,12121,12207,12255,12295,12306,12327,12331,12340,
12348,12360,12379,12383,12385,12411,12491,12538,12542,12543,12550,12566,12570,12709,12729,
12840,12850,12863,12864,12926,12981,12985,13039,13053,13123,13130,13181,13183,13233,13258,
13260,13261,13262,13272,13469,13472,13473,13602,13613,13755,13759,13767,13773,13774,13776,
13797,13819,13821,13827,13831,13841,13851,13859,13862,13863,13866,13867,13868,13876,13880,
13881,13896,13897,13911,13928,13963,13968,13969,13980,13981,13985,14121,14122,14124,14130,
14134,14144,14159,14160,14165,14169,14285,14303,14322,14340,14342,14347,14471,14482,14519,
14525,14531,14542,14551,14583,14634,14641,14642,14643,14654,14655,14696,14701,14707,14835,
14837,14863,14875,14908,14909,14964,14976,14991,15068,15082,15094,15104,15146,15156,15176,
15196,15235,15272,15296,15302,15304,15306,15307,15322,15327,15345,15368,15379,15391,15392,
15401,15402,15404,15420,15423,15441,15449,15471,15482,15498,15503,15554,15641,15643,15652,
15662,15665,15746,15748,15749,15802,15808,15809,15880,15886,15895,15924,15933,15960,16070,
16076,16081,16141,16167,16478,16568,16581,16582,16599,16602,16604,16633,16655,16663,16667,
16686,16688,16689,16700,16701,16748,16749,16769,16804,16809,16821,16824,16848,16854,16862,
16864,16873,16962,16989,16997,16998,17090,17093,17105,17113,17130,17146,17147,17161,17172,
17180,17184,17200,17203,17327,17338,17340,17344,17405,17675,17678,17685,17691,17696,17699,
17707,17708,17711,17716,17718,17733,17737,17759,17764,17766,17814,17818,17905,17911,17913,
17931,17939,17961,17984,17987,18058,18064,18104,18119,18198,18201,18202,18279,18288,18292,
18298,18302,18310,18313,18345,18346,18468,18693,18695,18800,18805,18818,18859,18861,18873,
18878,18887,18929,18930,18936,18937,18942,18973,19021,19034,19049,19053,19094,19100,19214,
19219,19264,19277,19299,19341,19360,19373,19384,19470,19474,19478,19511,19686,19689,19691,
19701,19713,19719,19738,19740,19747,19756,19809,19847,19858,19874,19881,19889,19894,19895,
19898,19900,19921,19931,19955,19988,19989,20019,20034,20137,20226,20230,20246,20255,20267,
20269,20444,20478,20502,20717,20725,20726,20740,20742,20743,20753,20816,20866,20867,20884,
20885,20888,20977,20989,21031,21037,21107,21136,21143,21185,21253,21445,21446,21448,21473,
21474,21476,21491,21498,21569,21570,21588,21590,21597,21600,21603,21755,21992,22002,22008,
22015,22017,22018,22054,22099,22110,22195,22265,22312,22510,22618,22625,22631,22635,22644,
22656,22660,22734,22751,22753,22809,22810,22863,22936,22943,23032,23130,23179,23180,23205,
23277,23279,23364,23540,23552,23553,23576,23604,23670,23694,23843,23844,23849,23854,23860,
23868,23874,23884,23889,23890,23894,23908,23966,23970,24027,24028,24062,24148,24228,24231,
24236,24239,24241,24254,24271,24290,24293,24349,24407,24448,24504,24558,24579,24587,24614,
24616,24632,24725,24729,24732,24736,24737,24743,24750,24760,24766,24772,24775,24781,24868,
24916,24920,24926,24927,24928,24978,24989,24992,25011,25017,25025,25038,25097,25098,25099,
25115,25176,25180,25189,25190,25193,25195,25196,25201,25209,25214,25294,25302,25309,25322,
25326,25356,25357,25358,25359,25390,25391,25490,25492,25538,25553,25598,25626,25629,25630,
25706,25708,25723,25795,25848,25854,25860,25915,25931,25964,25967,26121,26177,26238,26412,
26419,26505,26537,26539,26680,26755,26861,26913,26919,26975,27363,27524,27526,27691,27693,
27716,27893,27996,28053,28119,28269,28379,28604,28984,28985,29234,29348,29364,29372,29519,
29569,29760,29980,30014
END_

! ----------------------------------------------------------------
!
!
! Design Response: MinimizeMass_DResp
!
DRESP
  ID_NAME = MinimizeMass_DResp
  LIST = NO_LIST
  DEF_TYPE = SYSTEM
  EL_GROUP = ALL_ELEMENTS
  TYPE = WEIGHT
  GROUP_OPER = SUM
END_

! ----------------------------------------------------------------
!
! Design Response: Stress_DResp_1
!
DRESP
  ID_NAME = Stress_DResp_1
  LIST = NO_LIST
  DEF_TYPE = SYSTEM
  EL_GROUP = ALL_ELEMENTS
  TYPE = SIG_TOPO_MISES
  GROUP_OPER = MAX
  LC_SET = STATIC, 1, ALL, MAX
END_

! ----------------------------------------------------------------
!
!
! Design Area: Task1_DESIGN_AREA
!
DV_TOPO
  ID_NAME = Task1_DESIGN_AREA
  EL_GROUP = ALL_ELEMENTS
END_

! ----------------------------------------------------------------
!
! Objective Function: MinimizeMass_Obj_Func
!
OBJ_FUNC
  ID_NAME = MinimizeMass_Obj_Func
  DRESP = MinimizeMass_DResp, 1.0
  TARGET = MIN
END_

! ----------------------------------------------------------------
!
! Constraint: Stress_Constraint_FOS_1
!
CONSTRAINT
  ID_NAME = Stress_Constraint_FOS_1
  DRESP = Stress_DResp_1
  MAGNITUDE = ABS
  LE_VALUE = 2.34381e+08
END_

! ----------------------------------------------------------------
!
! Geometric Restriction: Frozen_ManufacConstraint_2
!
DVCON_TOPO
  ID_NAME = Frozen_ManufacConstraint_2
  EL_GROUP = FROZEN_AREA_ELEMS_GRP_1
  CHECK_TYPE = FROZEN
END_

! ----------------------------------------------------------------
!
!
! Optimize: OPTIMIZE_1_TOPOLOGY_OPTIMIZATION_CONTROLLER 
!
OPTIMIZE
  ID_NAME = OPTIMIZE_1_TOPOLOGY_OPTIMIZATION_SENSITIVITY
  DV = Task1_DESIGN_AREA
  OBJ_FUNC = MinimizeMass_Obj_Func
  DVCON = Frozen_ManufacConstraint_2
  CONSTRAINT = Stress_Constraint_FOS_1
  STRATEGY = TOPO_SENSITIVITY
END_

OPT_PARAM
  ID_NAME = OPTIMIZE_1_TOPOLOGY_OPTIMIZATION_SENSITIVITY_OPT_PARAM_
  OPTIMIZE = OPTIMIZE_1_TOPOLOGY_OPTIMIZATION_SENSITIVITY
  DV_UPDATE_STRATEGY = CSA
  STABILIZATION = YES
  AUTO_FROZEN = BOTH
  AUTO_FROZEN_CON = BOTH
  STOP_CRITERION_LEVEL = BOTH
  STOP_CRITERION_OBJ = 0.001
  STOP_CRITERION_DENSITY = 0.005
END_

STOP
  ID_NAME = Task-1_GLOBAL_STOP_CONDITION_
  ITER_MAX = 75
END_

